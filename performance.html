<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AntennaPod Performance</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="icon" type="image/png" sizes="192x192"  href="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/android-icon-192x192.png">

  <link rel="stylesheet" type="text/css" href="index.css"/>
  <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Archivo+Narrow&display=swap" rel="stylesheet">
</head>
<body>
  <script>
    window.addEventListener("hashchange", function() { scrollBy(0, -60) });
  </script>
  <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark ">
    <a class="navbar-brand" href="./index.html">Sobre AntennaPod</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="diseno.html">Diseño</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="ui&ux.html">UX & UI</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="Arquitectura.html">Arquitectura</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="conectividadEventual.html">Conectividad Eventual</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="performance.html">Performance <span class="sr-only">(current)</span></a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-2 col-md-2">
        <div class="affix"id="sidebar-wrapper">
          <ul class="sidebar-nav">
            <li class="sidebar-brand">Performance </li>
            <li><a href="#Profiling">Profiling</a></li>
            <ul>
              <li><a href="#AñadirPodcast">Añadir</a></li>
              <li><a href="#Buscar">Buscar</a></li>
              <li><a href="#Descubrir">Descubrir</a></li>
              <li><a href="#Cola">Cola</a></li>
              <li><a href="#Descargar">Descargar</a></li>
              <li><a href="#Descargas">Descargas</a></li>
              <li><a href="#Episodios">Episodios</a></li>
              <li><a href="#Reproducir">Reproducir</a></li>
              <li><a href="#Suscribir">Suscribir</a></li>
              <li><a href="#Suscripciones">Suscripciones</a></li>
            </ul>
            <li><a href="#Detallado">Detalle Memoria</a></li>
            
          </ul>
        </div> 
      </div>
      <div class="col-sm-10 col-md-10 info">
        <br/>
        <h1 class="text-center">Performance AntennaPod</h1>
        <br>
        <h2 class="text-center" id="Profiling">Profiling</h2>
        <p class="text-justify">En general se puede evidenciar que la aplicación no tiene fallas de rendimiento sin embargo hay ciertos aspectos que se pueden resaltar. En cuanto al uso de la memoria cabe resaltar que mantiene un uso maximo de 256MB, lo cual demuestra de existen una estrategia de eso de la memoria para no pasar este nivel. El uso del CPU, red y energía se da solo en los momentos en que es realmente necesario. La aplicación responde al uso de los usuarios. Es decir que el uso de la red, CPU y energia se da cuando el usuario realiza alguna acción, en los momentos intermedios no utiliza estos recursos dado que no son necesarios.</p>
        <br>
        <h2 id="AñadirPodcast">Añadir Podcast</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Activity%20Anadir%20Podcast.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">

            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">Añadir Podcast es la primer Activity que se muestra cuando se abre la aplicacion. Mediante la herramienta profiling de Android Studio se realizó un estudio del desempeño de esta y obtuvimos los siguientes resultados sin realizar ninguna operación sobre el celular. En general tiene un bajo uso del CPU dado que no necesita muchos recursos para mostrarla. Así mismo el uso de memoria es constante sin embargo en este punto no se puede determinar si se está manejando la memoria de manera correcta. El uso de energía se mantiene bajo solo en el momento en que se carga la actividad es un poco más alto, pero en general no usa mucha energía y por último el uso de la red se da solamente durante la carga de la actividad. En esta primera actividad no se evidencia ninguna falla de rendimiento notable hasta el momento. </p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfA%C3%B1adirPodCast.PNG" alt="Profiling añadir podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Buscar">Buscar Podcast</h2>
        <br/>
        <div class="row ">
          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Buscar.jpeg" alt="Imagen buscar Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <div class="row">
                  <div class="col-md-12">
                    <p class="text-justify descripcion"> Buscar un Podcast en una de las acciones que se pueden llevar a cabo en añadir podcast. El rendimiento de esta acción se puede evidenciar en la imagen superior. Al comenzar a buscar un podcast se evidencian picos en el uso del CPU y en la red dado que esté se busca en recursos externos a la aplicación, sin embargo, en el código no se evidencia exactamente donde se realizan las peticiones dado que el método es importado desde una librería propia de ellos. Así mismo el uso de energía es proporcional a búsqueda de los recursos y la memoria no se ve afectada por esta acción. </p>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <img class="imagenProfiling"src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/CodigoBusqueda.PNG" alt="Imagen código búsqueda" width="100%"> 
                  </div>
                  <div class="col-md-6">
                    <img class ="imagenProfiling"src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/LibreriasBusqueda.PNG" alt="Imagen librerías búsqueda" width="100%">
                  </div> 
                </div>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfBuscarPodCas.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Descubrir">Descubrir</h2>
        <br/>
        <div class="row">
          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Descubrir.jpeg" alt="Imagen descubrir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion"> Existe una funcionalidad que permite descubrir nuevos podcasts, en esta se muestran en una lista las sugerencias que tiene la aplicación, sin embargo, estos no son los únicos que se pueden almacenar. En la medida en que la que se va navegando por la lista el uso de la memoria incrementa debido al almacenamiento de las imágenes que se muestran. Se evidencian picos de uso de red, dado que se buscan podcast en la web como en iTunes, o Fyyd Podcast Search Engine. El uso de energía incrementa en los momentos en que se buscan los podcasts en recursos externos. Por último, el uso del CPU es proporcional al uso de red también, por lo cual no se considera que tenga alguna falla de rendimiento en esta funcionalidad.  </p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfDescubrir.PNG" alt="Profiling descubrir podcast" height="100%">
              </div>
            </div>
          </div>
        </div>

        <br/>
        <h2 id="Episodios">Episodios</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Episodios.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">Buscar los episodios de los canales a los que se está suscrito no tienen ningún tipo de conexión a recursos exteriores. Por este motivo, no se evidencian cambios en el comportamiento de la red. Sin embargo, si se decide descargar un nuevo episodio para escucharlo, esta es una funcionalidad diferente y requiere diferentes recursos. Los usos de la CPU y energía que se registran corresponden a el cambio entre las pestañas de “Nuevos”, “Todos” y “Favoritos” dado que cada uno corresponde a una solicitud diferente.</p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfEpisodios.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>
          </div>
        </div>

        <br>
        <h2 id="Cola">Cola</h2>
        <br/>
        <div class="row">
          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Cola.jpeg" alt="Imagnen cola de reproducción Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">  Esta aplicación cuenta con una funcionalidad que le permite ver los podcasts que tiene una cola de reproducción. Según el análisis del profiling, esta funcionalidad no registrar ningún tipo de falla en cuanto al rendimiento. El uso del CPU tiene unos picos bajos en los momentos que carga la actividad, la memoria incrementa dado que tiene unas referencias a lo que tiene que mostrar y el uso de energía es bajo. En cuanto de la red, no se registra uso de red porque no necesita solicitar recursos externos, sino extraer información del almacenamiento.  </p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfCola.PNG" alt="Profiling Cola reproducción podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Descargar">Descargar Poscast</h2>
        <br/>
        <div class="row">
          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Descargar.jpeg" alt="Imagen descargar Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion"> Cuando se hace uso de la funcionalidad descargar podcast, la aplicación tiene el comportamiento esperado. Existen picos, aunque pequeños, en el uso del CPU, en el uso de la red y la energía, sin embargo, se evidencia un correcto uso de la memoria dado que el uso de memoria permanece constante aun cuando se está descargando un archivo. Al finalizar la descarga se deja de utilizar el CPU y la red, por lo cual se puede concluir que no existen leaks, ni de red, ni de energía, ni de CPU.  </p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfDescargarPodcast.PNG" alt="Profiling descargar podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Descargas">Descargas</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Descargas.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion"> Consultar las descargas realizadas no tiene necesidad de recurrir a recursos externos, razón por la cual esta funcionalidad no tiene ningún registro de uso de la red. Al ser una consulta sobre la información que ya tiene la aplicación solo se evidencian cambios pequeños en el CPU y en la energía en los momentos que realiza las consultas para mostrar los resultados. Por otra parte, el uso de memoria permanece constante durante el procedimiento como es lo esperado.</p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfDescargas.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>

          </div>
        </div>
        <br/>
        <h2 id="Reproducir">Reproducir</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Reproducir.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">Se puede considerar que la reproducción de un podcast tiene un buen rendimiento ya que el uso de la memoria permanece constante por lo cual no hay desperdicio de este recurso. Por otro lado, los picos que se registran en el uso del CPU y energía son pequeños, el más grande se da en el momento en que se envía la instrucción de reproducir lo cual muestra que no es una funcionalidad que pueda generar un fallo en la aplicación al estar bien estructurada.</p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfReproducir.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Suscribir">Suscribir</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Reproducir.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">El proceso de suscripción utiliza todos los recursos analizados. Requiere memoria dado que la búsqueda del podcast almacena lo que recibe de búsquedas externas. Además, requiere conectividad a la red, CPU y energía para realizar la búsqueda del podcast realizando peticiones a recursos externos y registrar la suscripción de manera que cuando el canal suscrito cargue nuevo contenido se le notifique al usuario y se agreguen los episodios a la actividad episodios en la pestaña de nuevos. Aun cuando requiere de todos los recursos analizados se puede evidenciar que no son usos desmesurados y que se dan solo en el momento en que son solicitados y luego se liberan.  </p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfReproducir.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>
          </div>
        </div>
        <br/>
        <h2 id="Suscripciones">Suscripciones</h2>
        <br/>
        <div class="row">

          <div class="col-md-4">
            <img class="imagenProfiling" src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/Suscripciones.jpeg" alt="Activity Añadir Podcast" width="100%">
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-12 textoDescripcion">
                <p class="text-justify descripcion">Visualizar las suscripciones del usuario es una funcionalidad que no consume ningún tipo de recurso externo por lo cual se evidencia que no ningún comportamiento anormal en el uso de la red y CPU. En general durante esta actividad se evidencia un comportamiento estático de la aplicación en el cual solo se generan cambios cuando se navega a través de la lista de suscripciones, aun así, esta acción tiene poco impacto en el rendimiento de la aplicación.</p>
              </div>
            </div>
            <br>
            <div class=row>
              <div class="col-md-12 text-center  imagenProfiling">
                <img src="https://raw.githubusercontent.com/fj-mac/CodeReviewMoviles/master/Fotos/ProfSuscripciones.PNG" alt="Profiling buscar podcast" height="100%">
              </div>
            </div>
          </div>

          <h2>Detalle casos de uso</h2>
          <p class="text-justify"> Luego de realizar un análisis de rendimiento general sobre las funcionalidades de la aplicación decidimos prestar especial atención al manejo de la memoria dentro de la aplicación ya que se pudo observar que la memoria no era liberada luego de realizar una operación lo cual podría indicar que existe un leak de memoria al no liberar los recursos luego de utilizarlos. Para esto, diseñamos unos escenarios de prueba en los cuales pudiéramos analizar el comportamiento del uso de la memoria en la aplicación en cada situación. </p>
          <div class="row">
            <div class="col-md-12">
                <p>En primer lugar, se consideró el caso de descargar un podcast, se realizó la misma acción 10 veces con el fin de revisar el rendimiento en cada una de estas verificando que el comportamiento de la aplicación fuera similar en todos los casos. En todos los intentos se descargó el mismo podcast para que los datos fueran comparables entre sí. Cada punto en los diagramas de rendimiento indica la instrucción de descarga del podcast y posteriormente eliminar el podcast. </p>
            </div>
          </div>
          <h3>Conexión red</h3>  
          <div class="row"> 
            <div class="col-md-4"> 
                IMAGEN CONEXION RED
            </div>
            <div class="col-md-8"> 
              <p class="text-justify"> En la imagen se pueden identificar 10 picos de conexión a la red donde se realizaron las descargas, esto demuestra que solo se reciben datos en los momentos en que se pide descargar. Además, que a mayor velocidad de descarga es menor el periodo de tiempo en el que se lleva a cabo la descarga como es de esperarse. Con el fin de realizar comparaciones se graficó el punto máximo de red alcanzado y el número de conexiones máximo que se reporta en cada uno del escenario. </p>
            </div>
          </div>
          <div class="row">
            <div class="col-md-8"> 
              <p class="text-justify"> Al realizar los grafico se puede evidenciar que la velocidad de descargar oscila entre 1,5 MB/s y 2,5MB/s, lo cual es un nivel de velocidad apropiado para descargar el contenido dado que el tamaño del archivo eran 4MB. Sin embargo, se puede evidenciar un patrón en el número de conexiones que crece a medida que se realizan nuevas descargas, lo cual según la gráfica y el comportamiento da el indicio de que al solicitar una descarga se abre una conexión que no se cierra inmediatamente termina la descarga sino un buen tiempo después y esto puede representar una falla en la seguridad al dejar el canal abierto para recibir más información.</p>
            </div>
            <div class="col-md-4"> 
              IMAGEN GRAFICO
            </div>
          </div>
          <h3>Uso memoria</h3>
          <div class="row">
            <div class="col-md-4"> 
              IMAGEN MEMORIA
            </div>
            <div class="col-md-8"> 
              <p class="text-justify"> En cuanto al uso de la memoria encontramos el siguiente comportamiento. Al igual que en la imagen anterior cada uno de los puntos indica una acción sobre el teléfono, el inicio o finalización de una descarga. El manejo de memoria desde el código Java se evidencia en la parte inferior de la imagen que corresponde al uso de memoria de java ya que este es el espacio de memoria asignado por código java. Podemos observar como la aplicación si maneja el uso de memoria en los espacios donde se activa el garbage collector (Icono de basura), en estos puntos el uso de memoria java alcanzo un máximo de 20MB, se activa el garbage colector y se libera la memoria por lo cual no permite que la memoria en uso sobrepase este nivel. Aunque no libera los recursos inmediatamente si tiene una táctica para restringir el uso de memoria.  </p>    
            </div>
          </div>

        </div>       
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>